version: '3.8'

services:
  deltalens:
    build: .
    volumes:
      - ./data:/data
    environment:
      - DELTALENS_CONFIG=docker-compare.config.json
      - DELTALENS_OUTPUT_DIR=output
      - DELTALENS_LOG_LEVEL=INFO
      - DELTALENS_EXPORT_SQLITE=true
      - DELTALENS_EXPORT_CSV=true
      - DELTALENS_CONTINUE_ON_ERROR=true
      - DELTALENS_EXPORT_SAMPLING_THRESHOLD=10001
      - DELTALENS_PERSISTENT=true
      - DELTALENS_EXPORT_MISMATCHES_ONLY=true